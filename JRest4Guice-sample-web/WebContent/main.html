<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:spry="http://ns.adobe.com/spry">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>联系人管理</title>

<link href="javascript/spry/widgets/textfieldvalidation/SpryValidationTextField.css" rel="stylesheet" type="text/css" />
<link href="javascript/spry/widgets/textareavalidation/SpryValidationTextarea.css" rel="stylesheet" type="text/css" />
<link href="css/validation.css" rel="stylesheet" type="text/css" />

<script type="text/javascript" src="javascript/lib/jquery-1.2.2.js"></script>
<script language="JavaScript" type="text/javascript" src="javascript/spry/SpryData.js"></script>
<script language="JavaScript" type="text/javascript" src="javascript/spry/SpryJSONDataSet.js"></script>
<script language="JavaScript" type="text/javascript" src="javascript/spry/SpryExt.js"></script>

<script type="text/javascript" src="javascript/spry/widgets/textfieldvalidation/SpryValidationTextField.js"></script>
<script type="text/javascript" src="javascript/spry/widgets/textareavalidation/SpryValidationTextarea.js"></script>

<script type="text/javascript" src="main.js"></script>

<style>
	.mouseoverClass {background-color:#EAF6FD;} 
	.selectedClass {background-color:#C7E8FA;} 
	.validMsg {height: 16px;}
	.loadingBar {
		background-color:red;
		color:yellow;
		font-size:13px;
		padding:2px;
		border:solid 1px olive;
		top:4px;
		right: 4px;
		clear:both;
		position:absolute;
	}
	.button {
		margin-right: 20px;
	}
</style>
</head>
<body>
	<button onclick="currentRowNo=0;contacts_ds.loadData();" class="button">重新加载</button><button onclick="createContact();" class="button">新增</button><button onclick="deleteContact();" class="button">删除</button><button onclick="getSelectRows();" class="button">获取选择的行</button>
	<hr>
	<div id="contactListRegion" style="float: left;width:55%;margin-right: 50px;" spry:region="contacts_ds">
		<table id="contactTable" cellpadding="0" background="#ffffff" cellspacing="0" width="100%">
			<thead style="font-weight: bold;">
				<tr style="height: 26px;background-image: url('images/head.jpg');color: white;">
					<td style="width: 110px;" spry:sort="name">&nbsp;姓 名</td>
					<td style="width: 110px;">&nbsp;移动电话</td>
					<td style="width: 130px;">&nbsp;电子邮件</td>
					<td>&nbsp;住址</td>
				</tr>
			</thead>
			<tbody spry:repeat="contacts_ds" spry:choose="choose">
				<tr rowId="{ds_RowID}" spry:when="{ds_RowNumber}=={ds_CurrentRowNumber}" spry:setrow="contacts_ds" style="cursor: pointer;height: 22px;" spry:selected="selected">
					<td>&nbsp;{name}</td>
					<td>&nbsp;{mobilePhone}</td>
					<td>&nbsp;{EMail}</td>
					<td>&nbsp;{address}</td>
				</tr>
				<tr rowId="{ds_RowID}" spry:default="default" spry:setrow="contacts_ds" style="cursor: pointer;height: 22px;">
					<td>&nbsp;{name}</td>
					<td>&nbsp;{mobilePhone}</td>
					<td>&nbsp;{EMail}</td>
					<td>&nbsp;{address}</td>
				</tr>
			</tbody>
		</table>
	</div>
	
	<div style="width: 38%;float: right;">
		<form id="editForm">
			<div id="editArea" spry:detailregion="contact_detail_ds">
				<input style="display: none;" type="text" name="id" value="{id}">
				<div id="theName">
					<div class="formLabel">姓名：</div>
					<input type="text" name="name" value="{name}">
					<img src="images/ok.gif" title="Valid" alt="Valid" class="validMsg" border="0"/>
					<span class="textfieldRequiredMsg">请输入姓名.</span>
				</div>
				<div id="theMobilePhone">
					<div class="formLabel">移动电话：</div>
					<input type="text" name="mobilePhone" value="{mobilePhone}">
					<span class="textfieldMaxCharsMsg">长度不能超过20这个字符</span>
				</div>
				<div id="theEmail">
					<div class="formLabel">电子邮件：</div>
					<input type="text" name="EMail" value="{EMail}">
					<span class="textfieldInvalidFormatMsg">请输入有效的电子邮件格式.</span>
				</div>
				<div id="theAddress">
					<div class="formLabel">家庭住址：</div>
					<textarea rows="4" cols="30" name="address">{address}</textarea>
					<span class="textareaRequiredMsg">家庭住址.</span>
					<span class="textareaMaxCharsMsg">长度不能超过50这个字符</span>
				</div>
				<br/>
				<input type="button" onclick="saveOrUpdateContact();" value="确定" style="width: 40px;"> or <a href="#" onclick="Spry.$('editForm').reset();void(0);return false;">取消</a>
			</div>
		</form>
	</div>
</body>
</html>