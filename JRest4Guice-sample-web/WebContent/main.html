<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:spry="http://ns.adobe.com/spry">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>联系人管理</title>

<!-- Spry 验证的CSS -->
<link href="javascript/spry/widgets/textfieldvalidation/SpryValidationTextField.css" rel="stylesheet" type="text/css" />
<link href="javascript/spry/widgets/textareavalidation/SpryValidationTextarea.css" rel="stylesheet" type="text/css" />

<!-- 应用验证的CSS -->
<link href="css/validation.css" rel="stylesheet" type="text/css" />

<!-- 系统缺省的CSS -->
<link href="css/default.css" rel="stylesheet" type="text/css" />

<!-- JQuery 核心 -->
<script type="text/javascript" src="javascript/lib/jquery-1.2.2.js"></script>
<!-- Spry 核心 -->
<script language="JavaScript" type="text/javascript" src="javascript/spry/SpryData.js"></script>
<script language="JavaScript" type="text/javascript" src="javascript/spry/SpryJSONDataSet.js"></script>
<!-- Spry 验证 -->
<script type="text/javascript" src="javascript/spry/widgets/textfieldvalidation/SpryValidationTextField.js"></script>
<script type="text/javascript" src="javascript/spry/widgets/textareavalidation/SpryValidationTextarea.js"></script>
<!-- Spry 扩展 -->
<script language="JavaScript" type="text/javascript" src="javascript/spry/SpryExt.js"></script>
<!-- 应用自己的JS -->
<script type="text/javascript" src="main.js"></script>

<style>
	.button {
		margin-right: 20px;
	}
</style>
</head>
<body>
	<!-- 操作栏 -->
	<div id="controlBar" style="margin: 1px 0 8px 12px;width:65%;height: 68px;float: left;">
		<div style="width: 100%;">
			<img src="images/user.gif"/><span style="font-size:24px;">你</span>可以从这里<span title="为你添加新的联系人" class="cmdButton" onclick="createContact();void(0);return false;">增加</span>新的联系人，或者<span title="获取最新的联系人列表" class="cmdButton" onclick="currentRowNo=0;contacts_ds.loadData();void(0);return false;">刷新</span>整个列表。
		</div>
		<div style="margin-top: 4px;display: none;width: 490px;" id="cContactSpan">
				还可以<span title="删除以下选择的联系人" class="cmdButton" onclick="deleteContact();void(0);return false;">删除</span>以下所选择的联系人: <span id="cContact" style="color: red;"></span>
		</div>
	</div>
	<div style="float: left;width:65%;margin-right: 8px;margin-top: -42px;">
		<div style="float: right;text-align: right;margin-bottom: 4px;">
			<div id="infoBar"></div><div id="navigation" style="margin-top: 6px;"></div>
		</div>
		<!-- 列表显示区域 -->
		<div id="contactListRegion" spry:region="contacts_ds" style="clear: both;">
			<table id="contactTable" cellpadding="0" background="#ffffff" cellspacing="0" width="100%">
				<thead style="font-weight: bold;">
					<tr style="height: 26px;background-image: url('images/head.jpg');color: white;">
						<td style="width: 110px;" spry:sort="name">&nbsp;姓 名</td>
						<td style="width: 110px;">&nbsp;移动电话</td>
						<td style="width: 130px;">&nbsp;电子邮件</td>
						<td>&nbsp;住址</td>
					</tr>
				</thead>
				<tbody spry:repeat="contacts_ds">
					<tr rowId="{ds_RowID}" spry:odd="odd" spry:even="even" spry:setrow="contacts_ds" style="cursor: pointer;height: 22px;">
						<td>&nbsp;{name}</td>
						<td>&nbsp;{mobilePhone}</td>
						<td>&nbsp;{EMail}</td>
						<td>&nbsp;{address}</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	
	<!-- 编辑区域 -->
	<div style="width: 32%;float: right;background-color:#EAF6FD;">
		<form id="editForm">
			<div id="editArea" spry:detailregion="contact_detail_ds" style="display: none;">
				<fieldset style="margin: 10px;border: 1px solid olive;">
					<legend id="Organization">联系人信息</legend>
					<div style="margin: 8px;">
						<input style="display: none;" type="text" name="id" value="{id}">
						<div id="theName">
							<div class="formLabel">姓名：</div>
							<input type="text" name="name" value="{name}">
							<img src="images/ok.gif" title="Valid" alt="Valid" class="validMsg" border="0"/>
							<span class="textfieldRequiredMsg">请输入姓名.</span>
						</div>
						<fieldset style="float: right;border: 1px solid olive;margin-top: -44px;margin-right: 8px;">
							<legend id="Organization">个人形象</legend>
							<div>
								<img src="images/head.gif";>
							</div>
						</fieldset>
						<div id="theMobilePhone" style="clear: left;">
							<div class="formLabel">移动电话：</div>
							<input type="text" name="mobilePhone" value="{mobilePhone}">
							<span class="textfieldInvalidFormatMsg">请输入有效的移动电话格式.</span>
						</div>
						<div id="theEmail">
							<div class="formLabel">电子邮件：</div>
							<input type="text" name="EMail" value="{EMail}">
							<span class="textfieldInvalidFormatMsg">请输入有效的电子邮件格式.</span>
						</div>
						<div id="theAddress">
							<div class="formLabel">家庭住址：</div>
							<textarea rows="3" cols="32" name="address">{address}</textarea>
							<span class="textareaRequiredMsg">家庭住址.</span>
							<span class="textareaMaxCharsMsg">长度不能超过50这个字符</span>
						</div>
						<br/>
						<input type="button" onclick="saveOrUpdateContact();" value="确定" style="width: 40px;"> or <a href="#" onclick="doCancel();void(0);return false;">取消</a>
					</div>
				</fieldset>
			</div>
		</form>
	</div>
</body>
</html>